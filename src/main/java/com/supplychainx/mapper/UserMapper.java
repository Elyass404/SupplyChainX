package com.supplychainx.mapper;

import com.supplychainx.dto.request.UserRequest;
import com.supplychainx.dto.response.UserResponse;
import com.supplychainx.model.User;
import org.mapstruct.Mapper;
import org.mapstruct.Mapping;

import java.util.List;

@Mapper(componentModel = "spring")
public interface UserMapper {

    // Maps UserRequest (DTO) to User (Entity).
    // The 'id' is ignored because it's generated by the database.
    @Mapping(target = "id", ignore = true)
    User toEntity(UserRequest request);

    // Maps User (Entity) to UserResponse (DTO).
    // The password field in the Entity is automatically ignored
    // since the UserResponse DTO does not have a 'password' field,
    // ensuring password security.
    UserResponse toResponse(User user);

    // Helper method to map a list of entities to a list of response DTOs
    List<UserResponse> toResponseList(List<User> users);
}